<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<nav>
		<ul>
			<li><a class="active" href="#page1">me</a></li>
			<li><a href="#page2">resume</a></li>
			<li><a href="#page6">contact</a></li>
		</ul>
	</nav>
	<div class="wrap">
	<!-- page1 -->
		<section id="page1" class="page">
			<div class="me">
				<img src="img/me.png" alt="">
			</div>
			<div class="text cen">
				<h1 class="cen">陈璐</h1>
				<strong class="cen">做改变世界的参与者</strong>
				<p class="cen">Web前端工程师</p>
			</div>
		</section>
		<!-- page2 -->
		<section id="page2" class="page page-active">
			<h2 class="cen titelh2">项目经验</h2>
			<div class="container">
				<div><img src="" alt=""></div>
			</div>
		</section>
		<!-- page3 -->
		<section id="page3" class="page">
			<h2 class="cen titelh2">擅长技术</h2>
		</section>
		<!-- page4 -->
		<section id="page4" class="page">
			<h2 class="cen titelh2">教育背景</h2>
		</section>
		<!-- page5 -->
		<section id="page5" class="page">
			<h2 class="cen titelh2">人生经历</h2>
		</section>
		<!-- page6 -->
		<section id="page6" class="page">
			<div class="texth">
				<h2 class="cen titelh2">了解更多<span><a href="">下载简历</a></span></h2>
				<p class="cen">My Website:<a href="www.chenxiaolu.club">chenxiaolu.club</a></p>
			</div>
			<div class="icon">
				<div class="qq">
					<a href="tencent://message/?uin=765756616&Site=&Menu=yes"><img src="img/qq.png" alt="qq"></a>
					<p style="display: none;">QQ:765756616</p>
				</div>
				<div class="git">
					<a href="https://github.com/CLovefree"><img src="img/git.png" alt="git"><a>
					<p style="display: none;">GitHub:Clovefree</p>
				</div>
				<div class="mail">
					<a href="mailto:clovelu@outlook.com"><img src="img/mail.png" alt="mail"></a>
					<p style="display: none;">mail:clovelu@outlook.com</p>
				</div>
			</div>
		</section>
	</div>
	<script type="text/javascript">
		var timer = null;
		var curPos,nextPos;//当前滚动在什么位置
		var speed;
		
		//停止移动
		function sc(){
			clearInterval(timer);
			timer=null;
		}
		
		//向下移动
		function moveDown(curElement)
		{
			var nextElement = curElement.nextElementSibling;
			if(nextElement){
				curElement.className = curElement.className.replace('page-active','');
				nextElement.className = nextElement.className.trim() + ' page-active';
				nextPos = nextElement.offsetTop;
				
				sc();
				timer=setInterval("scrollDown()",10);
			}
		}
		function scrollDown()
		{
			if(Math.ceil(curPos) >= nextPos)
			{
				window.scroll(0, nextPos); 
				sc();
				speed=0;
			}
			else
			{
				speed = (nextPos-curPos) / 15;
				curPos = curPos + speed;
				window.scroll(0, curPos);
			}
		}
		

		//向下移动
		function moveUp(curElement)
		{
			var nextElement = curElement.previousElementSibling;//上一个节点
			if(nextElement){
				curElement.className = curElement.className.replace('page-active','');
				nextElement.className = nextElement.className.trim() + ' page-active';
				nextPos = nextElement.offsetTop;
				
				sc();
				timer=setInterval("scrollUp()",10);
			}
		}
		function scrollUp()
		{
			if(Math.round(curPos) <= nextPos)
			{
				sc();
				speed=0;
			}
			else
			{
				speed = (nextPos-curPos) / 15;
				curPos = curPos + speed;
				window.scroll(0, curPos);
			}
		}
		
		var scrollFunc = function(e){
			e.preventDefault();
			if(!timer){
				var curElement = document.getElementsByClassName('page-active')[0];
				curPos = curElement.offsetTop;
				
				if(e.wheelDelta < 0 || e.detail > 0){
					//向下
					//document.body.scrollTop += scrollHeight;
					moveDown(curElement);
				}else{
					//向上
					//document.body.scrollTop -= scrollHeight;
					moveUp(curElement);
				}
			}
		};
		document.body.addEventListener('DOMMouseScroll',scrollFunc);
		document.body.onmousewheel = scrollFunc;
	</script>
	<footer>
		<a href="#" id="top-btn">
			<p></p>
		</a>
	</footer>
	<script type="text/javascript">
		function typeEffect(element, speed) {
			var text = $(element).text();
			$(element).html('');
			
			var i = 0;
			var timer = setInterval(function() {
				if (i < text.length) {
					$(element).append(text.charAt(i));
					i++;
				} else {
					timer.clearInterval();
				}
			}, speed);
		}

		$( document ).ready(function() {
		  var speed = 75;
		  var delay = $('h1').text().length * speed + speed;
		  typeEffect($('h1'), speed);
		  setTimeout(function(){
		    $('p').css('display', 'inline-block');
		    typeEffect($('p'), speed);
		  }, delay);
		});
	</script>
	
</body>
</html>